<!DOCTYPE html>
<html>
	<head>
		<title>Roadkill Reporter - Mobile</title>

		<!-- META TAGS -->
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
		<meta name="apple-mobile-web-app-capable" content="yes" />

		<!-- prevent cache / remove for build-->
		<meta http-equiv="cache-control" content="no-cache">
		<meta http-equiv="pragma" content="no-cache">

		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="jasmine-1.0.1/jasmine.css">
		<style type="text/css">
			.hide {
				display: none;
			}
		</style>

		<!-- JAVASCRIPT -->
		
		<script type="text/javascript">
			var dojoConfig = {
				// isDebug: true,
				// debugAtAllCosts: true
			}
		</script>
		<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.6.1/dojo/dojo.xd.js" type="text/javascript"></script>
		<script type="text/javascript" src="../trunk/js/libs/fast_button.js"></script>
		<script type="text/javascript" src="../trunk/roadkill/gpsController.js"></script>
		<script type="text/javascript" src="../trunk/roadkill/authentication.js"></script>
		<script type="text/javascript" src="../trunk/js/libs/proj4js-compressed.js"></script>
		<script type="text/javascript" src="../trunk/js/libs/bookmark_bubble.js"></script>
		<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
		<script type="text/javascript" src="../trunk/data/species.js"></script>
		<script type="text/javascript" src="../trunk/js/core.js"></script>
		<script src="http://code.jquery.com/mobile/1.0rc1/jquery.mobile-1.0rc1.min.js"></script>
		<script type="text/javascript" src="jasmine-1.0.1/jasmine.js"></script>
        <script type="text/javascript" src="jasmine-1.0.1/jasmine-html.js"></script>
		<script type="text/javascript" src="spec/roadkillappSpec.js"></script>
		<script type="text/javascript" src="spec/GPSControllerSpec.js"></script>
		<script type="text/javascript" src="spec/authenticationSpec.js"></script>
		<script type="text/javascript">
			dojo.ready(function(){
				// run tests
				jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
	            jasmine.getEnv().execute();
			});
		</script>
	</head>
	<body>
		<div class="hide">
		<!-- HOME -->
		<div data-role="page" data-url="home" id="home">
			<div data-role="header">
				<h1>Roadkill Reporter</h1>
				<a href="#help" class="ui-btn-right" data-icon="info">Help</a>
			</div>
			<div data-role="content">
				<p>Welcome to the State of Utah Roadkill Reporter mobile application.</p>
				<p id="creds-note" class="hidden">Please note that in order to submit reports, you must have a valid user name and password.
					You will be prompted for them when you submit your first report. 
					Click on "Request an Account" to obtain access to the system.</p>
				<br>
				<ul data-role="listview">
					<li data-theme="e" class="unsubmitted-reports hidden">
						<a href="#queue">Unsubmitted Reports<span class="ui-li-count num-reports"></span></a>
					</li>
					<li id="report-link"><a href="#form">Report an Animal Carcass</a></li>
					<li class="hidden" id="login-link"><a href="#">Log In</a></li>
					<li class="hidden" id="register-link"><a href="#register">Request an Account</a></li>
					<li><a href="#devicerequirements">Device Requirements</a></li>
					<li><a href="#releasenotes">Release Notes</a></li>
					<div class="hidden" id="logout-div"><button id="logout-btn">Log Out</button></div>
				</ul>
				<br>
				<br>
			</div>
			<div data-role="footer" data-position="fixed">
				GPS Accuracy: <span class="accuracy-text">no fix</span> (m)
				<span id="version" class="float-right">Version: n/a</span>
			</div>
		</div>
		<!-- FORM -->
		<div data-role="page" data-url="form" id="form">
			<div data-role="header">
				<a href="#home" data-direction="reverse" data-icon="home">Home</a>
				<h1>Report</h1>
				<a href="#help" class="ui-btn-right" data-icon="info">Help</a>
			</div>
			<div data-role="content">
				<form action="" method="" id="report-form">
					<ul data-role="listview">
						<li data-role="fieldcontain" class="select">
							<label for="species">Species:</label>
							<select name="species" id="species" data-native-menu="false">
								<option data-placeholder="true">tap to select</option>
							</select>
							<p><span class="centered">or</span></p>
							<input type="text" id="speciesTxt" placeholder="type in a new species"/>
						</li>
						<li data-role="fieldcontain">
							<fieldset data-role="controlgroup">
								<legend>
									Gender:
								</legend>
								<input type="radio" name="radioGender" id="rb-male" value="Male"/>
								<label for="rb-male">Male</label>
								<input type="radio" name="radioGender" id="rb-female" value="Female"/>
								<label for="rb-female">Female</label>
								<input type="radio" name="radioGender" id="rb-unknown-gender" value="Unknown"/>
								<label for="rb-unknown-gender">Unknown</label>
							</fieldset>
						</li>
						<li data-role="fieldcontain">
							<fieldset data-role="controlgroup">
								<legend>
									Animal Age Class:
								</legend>
								<input type="radio" name="radioAge" id="rb-juv" value="Juvenile"/>
								<label for="rb-juv">Juvenile</label>
								<input type="radio" name="radioAge" id="rb-adult" value="Adult" />
								<label for="rb-adult">Adult</label>
								<input type="radio" name="radioAge" id="rb-unknown-age" value="Unkown" />
								<label for="rb-unknown-age">Unknown</label>
							</fieldset>
						</li>
						<li data-role="fieldcontain">
							<label for="xyphoidSlider">Xyphoid Measurement (mm):</label>
							<input disabled type="range" id="xyphoidSlider" value="0" min="0" max="40" data-theme="b" data-track-theme="a" />
							<input type="checkbox" id="xyphoidCheckbox" name="xyphoidCheckbox" checked/>
							<label for="xyphoidCheckbox">Unavailable</label>
						</li>
						<li data-role="fieldcontain">
							<label for="collar">Collar/Tag #:</label>
							<input type="text" id="collar" placeholder="optional"/>
						</li>
						<li data-role="fieldcontain">
							<label for="comments">Comments:</label>
							<textarea cols="40" rows="8" name="comments" id="comments" placeHolder="optional"></textarea>
						</li>
						<li data-role="fieldcontain">
							<fieldset class="ui-grid-a">
								<div id="cancel-btn" class="ui-block-a">
									<a data-theme="d" href="#home" data-role="button" data-direction="reverse">Cancel</a>
								</div>
								<div id="submit-btn" class="ui-block-b">
									<a data-role="button" data-theme="a">Submit</a>
								</div>
							</fieldset>
						</li>
					</ul>
				</form>
				
			</div>
		</div>
		<!-- SUBMIT-CONFIRMATION -->
		<div data-role="page" data-url="confirm" id="confirm">
			<div data-role="header">
				<a href="#home" data-direction="reverse" data-icon="home">Home</a>
				<h1>Submittal Status</h1>
				<a href="#help" class="ui-btn-right" data-icon="info">Help</a>
			</div>
			<div data-theme="e" data-role="content" id="confirm-content">
				<p><span id="confirm-msg"></span></p>
				<br>
				<ul data-role="listview">
					<li data-theme="e" class="unsubmitted-reports">
						<a href="#queue">Unsubmitted Reports<span class="ui-li-count num-reports"></span></a>
					</li>
					<li><a href="#form">Report Another Carcass</a></li>
				</ul>
			</div>
		</div>
		<!-- QUEUE -->
		<div data-role="page" data-url="queue" id="queue">
			<div data-role="header">
				<a href="#home" data-direction="reverse" data-icon="home">Home</a>
				<h1>Reports Queue</h1>
				<a href="#help" class="ui-btn-right" data-icon="info">Help</a>
			</div>
			<div data-role="content">
				You have <strong><span class="num-reports"> </span></strong> report(s) stored on your device that need to be submitted to the server.
			</div>
			<button id="submit-reports-btn" type="button" data-theme="e" disabled>
				Submit Reports
			</button>
		</div>
		<!-- RELEASE NOTES -->
		<div data-role="page" data-url="releasenotes">
			<div data-role="header">
				<a href="#home" data-direction="reverse" data-icon="home">Home</a>
				<h1>Release Notes</h1>
				<a href="#help" class="ui-btn-right" data-icon="info">Help</a>
			</div>
			<div data-role="content">
				0.10.0<br>
				<ul>
					<li>Upgraded to jQuery Mobile release candidate 1</li>
					<li>Added prompt to Submittal Status page to prompt users to submit offline reports, if any.</li>
				</ul>
				0.9.0<br>
				<ul>
					<li>Added mock login/out pages.</li>
					<li>Fixed date submitted bug.</li>
					<li>Enhanced form layout.</li>
				</ul>
				0.8.1<br>
				<ul><li>Upgraded to jQuery Mobile beta 3.</li></ul>
				0.8.0<br>
				<ul>
					<li>Xyphoid measurement is now set to unavailable as default.</li>
					<li>Xyphoid measurement stores a "-999" if the unavailable checkbox is checked.</li>
					<li>The form is now validated to make sure that all required values are present before submission.</li>
					<li>Added more emphasis when there are locally stored reports that need to be submitted.</li>
				</ul>
				0.7.0<br>
				<ul>
					<li>The road/hwy is now populated automatically when the form is loaded.</li>
					<li>Added Help page.</li>
					<li>Added green and yellow background colors to indicate submission status on the confirmation page.</li>
					<li>Added a dialog that appears if there is no gps fix available on form submit that asks for lat/long, route/milepost, or an address.</li>
				</ul>
				0.6.0<br>
				<ul>
					<li>Updated species list and added the text box for typing in a new species.</li>
					<li>Added functionallity to auto-detect the road.</li>
					<li>Increased xyphoid fat max to 40 and added the "mm".</li>
					<li>Added support for offline. Reports can now be stored locally on the device for later submission to the server.</li>
					<li>Added prompt to add to home screen on iOS devices.</li>
				</ul>
			</div>
		</div>
		<!-- HELP -->
		<div data-role="page" data-url="help">
			<div data-role="header">
				<a data-rel="back" data-direction="reverse" data-icon="arrow-l">Back</a>
				<h1>Help</h1>
			</div>
			<div data-role="content">
				<p>Please complete one report per animal instead of including another animal in the comments section.</p>
				<h4>When operating the application offline:</h4>
				<p>Leave the Hwy/Road field blank to have the system auto-detect it when you later submit the reports.</p>
				<p>Please do not clear your internet cache. If you do, then any offline reports will be lost.</p>
				<hr>
				<p>You can <a href="mailto:sdavis@utah.gov?subject=Roadkill Application Feedback">send an email to support</a> if you have any questions or problems.</p>
			</div>
		</div>
		<!-- LOCATION DIALOG -->
		<div data-role="page" data-url="location" id="location">
			<div data-role="content">
				<p>There is no gps fix available. Please manually input your location information below.</p>
				<form id="form-location">
					<!-- this is to prevent lat from started focused thus loosing the placeholder text -->
					<input type="text" id="dummy" style="display: none;"/>
						<label for="lat">Latitude:</label>
						<input id="lat"
							type="number" 
							placeholder="e.g. 40.234556" 
							min="-90" max="90" />
						<label for="lng">Longitude:</label>
						<input id="lng"
							type="number" 
							placeholder="e.g. -111.234532"
							min="-180" max="180" />
					<p><span class="centered">or</span></p>
						<label for="route">Route:</label>
						<input id="route" 
							type="text" 
							placeholder="e.g. 106" />
						<label for="milepost">Milepost:</label>
						<input id="milepost"
							type="number" 
							placeholder="e.g. 50.5"
							min="0" />
					<p><span class="centered">or</span></p>
						<label for="street">Street Address:</label>
						<input id="street" 
							type="text" 
							placeholder="e.g. 150 S. Main Street" />
						<label for="zone">Zip Code or City:</label>
						<input id="zone"
							type="text" 
							placeholder="e.g. 84121 or Sandy" />
				</form>
				<fieldset class="ui-grid-a">
					<div id="cancel-location" class="ui-block-a">
						<a href="#form" data-theme="d" id="cancel-location" data-role="button" data-rel="back">Cancel</a>
					</div>
					<div id="submit-location" class="ui-block-b">
						<a data-role="button" data-theme="a">Submit</a>
					</div>
				</fieldset>
			</div>
		</div>
		<!-- DEVICE REQUIREMENTS -->
		<div data-role="page" data-url="devicerequirements">
			<div data-role="header">
				<a href="#home" data-direction="reverse" data-icon="home">Home</a>
				<h1>Device Requirements</h1>
				<a href="#help" class="ui-btn-right" data-icon="info">Help</a>
			</div>
			<div data-role="content">
				<h2>Supported Browsers</h2>
				<table id="browsers-table">
					<thead>
						<th>Browser</th><th>Min Version</th>
					</thead>
					<tbody>
						<tr>
							<td>Android Browser</td><td>2.1</td>
						</tr>
						<tr>
							<td>iOS Safari</td><td>3.2</td>
						</tr>
						<tr>
							<td>Chrome</td><td>10.0</td>
						</tr>
						<tr>
							<td>Safari</td><td>5.0</td>
						</tr>
						<tr>
							<td>Firefox</td><td>3.6</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<!-- LOGIN -->
		<div data-role="page" data-url="login">
			<div data-role="content">
				<form action="" method="" id="login-form">
					<p></p>
					<ul data-role="listview">
						<li data-role="fieldcontain">
							<label for="loginEmail">Email</label>
							<input type="email" id="loginEmail" value=""/>
						</li>
						<li data-role="fieldcontain">
							<label for="password">Password</label>
							<input type="password" id="password" value=""/>
						</li>
					</ul>
				</form>
				&nbsp;
				<fieldset class="ui-grid-a">
					<div id="login-cancel-btn" class="ui-block-a">
						<a href="#" data-role="button">Cancel</a>
					</div>
					<div id="login-btn" class="ui-block-b">
						<a data-role="button" data-theme="d">Log In</a>
					</div>
				</fieldset>
			</div>
		</div>
		<!-- REGISTRATION -->
		<div data-role="page" data-url="register">
			<div data-role="header">
				<a href="#home" data-direction="reverse" data-icon="home">Home</a>
				<h1>Request Access</h1>
				<a href="#help" class="ui-btn-right" data-icon="info">Help</a>
			</div>
			<div data-role="content">
				<form action="" method="" id="register-form">
					<ul data-role="listview">
						<li data-role="fieldcontain">
							<label for="fName">First Name</label>
							<input type="text" id="fName"/>
						</li>
						<li data-role="fieldcontain">
							<label for="lName">Last Name</label>
							<input type="text" id="lName"/>
						</li>
						<li data-role="fieldcontain">
							<label for="agency">Agency</label>
							<input type="text" id="agency"/>
						</li>
						<li data-role="fieldcontain">
							<label for="email">Email</label>
							<input type="email" id="email" />
						</li>
						<li data-role="fieldcontain">
							<label for="verifyEmail">Verify Email</label>
							<input type="email" id="verifyEmail" />
						</li>
						<li data-role="fieldcontain">
							<label for="pass">Password</label>
							<input type="text" id="pass" />
						</li>
						<li data-role="fieldcontain">
							<label for="verifyPass">Verify Password</label>
							<input type="text" id="verifyPass" />
						</li>
					</ul>
				</form>
				&nbsp;
				<button id="register-btn" data-theme="a">Request an Account</button>
			</div>
		</div>
		<!-- SUBMIT OFFLINE REPORTS PROMPT -->
		<div data-role="page" data-url="offline-prompt">
			<div data-role="content">
				<p>You have some offline reports that need to be submitted. Would you like to submit them now?</p>
				<fieldset class="ui-grid-a">
					<div class="ui-block-a">
						<a href="#confirm" data-theme="d" data-role="button" data-rel="back">No</a>
					</div>
					<div id="yes-offline-prompt" class="ui-block-b">
						<a href="#queue" data-role="button" data-theme="a">Yes</a>
					</div>
				</fieldset>
			</div>
		</div>
		<!-- REQUEST AN ACCOUNT CONFIRMATION -->
		<div data-role="page" data-url="register-confirm">
			<div data-role="content">
				
			</div>
		</div>
		</div>
	</body>
</html>